<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1753px" preserveAspectRatio="none" style="width:1987px;height:1753px;background:#FFFFFF;" version="1.1" viewBox="0 0 1987 1753" width="1987px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1560.625" style="stroke:#181818;stroke-width:1.0;" width="10" x="48.5" y="92.6094"/><rect fill="#FFFFFF" height="182.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="114.9609"/><rect fill="#FFFFFF" height="146.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="327.4219"/><rect fill="#FFFFFF" height="366.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="504.1797"/><rect fill="#FFFFFF" height="381.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="901.0156"/><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="1312.7188"/><rect fill="#FFFFFF" height="189.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="1464.125"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="145.3125"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="357.7734"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="559.8828"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="666.4219"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="772.9609"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="931.3672"/><rect fill="#FFFFFF" height="161.8906" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="1083.125"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="1343.0703"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="1494.4766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980.5" y="175.6641"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980.5" y="961.7188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980.5" y="1524.8281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1127.5" y="206.0156"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1127.5" y="992.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1127.5" y="1555.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1278" y="236.3672"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1278" y="388.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="590.2344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="696.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="803.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="1022.4219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="1138.8281"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="1215.0156"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="1373.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1880" y="1585.5313"/><rect height="1190.7578" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1971.5" x="10" y="433.125"/><rect height="322.1328" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1181" x="484.5" y="519.1797"/><rect height="154.8906" style="stroke:#000000;stroke-width:1.5;fill:none;" width="984" x="681.5" y="1098.125"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="53" x2="53" y1="82.6094" y2="1671.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="576.5" x2="576.5" y1="82.6094" y2="1671.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="798.5" x2="798.5" y1="82.6094" y2="1671.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="985.5" x2="985.5" y1="82.6094" y2="1671.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1132.5" x2="1132.5" y1="82.6094" y2="1671.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1282.5" x2="1282.5" y1="82.6094" y2="1671.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1438.5" x2="1438.5" y1="82.6094" y2="1671.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1587.5" x2="1587.5" y1="82.6094" y2="1671.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1726.5" x2="1726.5" y1="82.6094" y2="1671.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1884.5" x2="1884.5" y1="82.6094" y2="1671.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="20" y="79.5332">Customer</text><ellipse cx="53.5" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53.5,21.5 L53.5,48.5 M40.5,29.5 L66.5,29.5 M53.5,48.5 L40.5,63.5 M53.5,48.5 L66.5,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="20" y="1684.7676">Customer</text><ellipse cx="53.5" cy="1696.3438" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M53.5,1704.3438 L53.5,1731.3438 M40.5,1712.3438 L66.5,1712.3438 M53.5,1731.3438 L40.5,1746.3438 M53.5,1731.3438 L66.5,1746.3438 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="494.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="501.5" y="71.5332">:AddProductShopCartUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164" x="494.5" y="1670.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="501.5" y="1691.7676">:AddProductShopCartUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="214" x="691.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="698.5" y="71.5332">:AddProductShopCartController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="214" x="691.5" y="1670.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="698.5" y="1691.7676">:AddProductShopCartController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="915.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="922.5" y="71.5332">:PersistenceContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140" x="915.5" y="1670.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="922.5" y="1691.7676">:PersistenceContext</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1065.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1072.5" y="71.5332">:RepositoryFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134" x="1065.5" y="1670.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1072.5" y="1691.7676">:RepositoryFactory</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="1209.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1216.5" y="71.5332">:CostumerRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147" x="1209.5" y="1670.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1216.5" y="1691.7676">:CostumerRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="1366.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1373.5" y="71.5332">:CategoryRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144" x="1366.5" y="1670.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130" x="1373.5" y="1691.7676">:CategoryRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="1520.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1527.5" y="71.5332">:ProductRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135" x="1520.5" y="1670.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="1527.5" y="1691.7676">:ProductRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1665.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1672.5" y="71.5332">:OrderRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123" x="1665.5" y="1670.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1672.5" y="1691.7676">:OrderRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="1798.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="1805.5" y="71.5332">:ShoppingCartRepository</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="1798.5" y="1670.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="1805.5" y="1691.7676">:ShoppingCartRepository</text><rect fill="#FFFFFF" height="1560.625" style="stroke:#181818;stroke-width:1.0;" width="10" x="48.5" y="92.6094"/><rect fill="#FFFFFF" height="182.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="114.9609"/><rect fill="#FFFFFF" height="146.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="327.4219"/><rect fill="#FFFFFF" height="366.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="504.1797"/><rect fill="#FFFFFF" height="381.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="901.0156"/><rect fill="#FFFFFF" height="121.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="1312.7188"/><rect fill="#FFFFFF" height="189.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="571.5" y="1464.125"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="145.3125"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="357.7734"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="559.8828"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="666.4219"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="772.9609"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="931.3672"/><rect fill="#FFFFFF" height="161.8906" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="1083.125"/><rect fill="#FFFFFF" height="60.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="1343.0703"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="793.5" y="1494.4766"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980.5" y="175.6641"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980.5" y="961.7188"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="980.5" y="1524.8281"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1127.5" y="206.0156"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1127.5" y="992.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1127.5" y="1555.1797"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1278" y="236.3672"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1278" y="388.125"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="590.2344"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="696.7734"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="803.3125"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="1022.4219"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="1138.8281"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="1215.0156"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1583" y="1373.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1880" y="1585.5313"/><polygon fill="#181818" points="559.5,110.9609,569.5,114.9609,559.5,118.9609,563.5,114.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58.5" x2="565.5" y1="114.9609" y2="114.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="65.5" y="110.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="324" x="76.5" y="110.1045">starts to create new product's order for a given costumer</text><polygon fill="#181818" points="781.5,141.3125,791.5,145.3125,781.5,149.3125,785.5,145.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="787.5" y1="145.3125" y2="145.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="588.5" y="140.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="599.5" y="140.4561">getCostumerList</text><polygon fill="#181818" points="968.5,171.6641,978.5,175.6641,968.5,179.6641,972.5,175.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="974.5" y1="175.6641" y2="175.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="810.5" y="170.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="821.5" y="170.8076">repositories()</text><polygon fill="#181818" points="1115.5,202.0156,1125.5,206.0156,1115.5,210.0156,1119.5,206.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="985.5" x2="1121.5" y1="206.0156" y2="206.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="992.5" y="201.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1003.5" y="201.1592">create</text><polygon fill="#181818" points="1266,232.3672,1276,236.3672,1266,240.3672,1270,236.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1132.5" x2="1272" y1="236.3672" y2="236.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1139.5" y="231.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1150.5" y="231.5107">create</text><polygon fill="#181818" points="1271,262.7188,1281,266.7188,1271,270.7188,1275,266.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="798.5" x2="1277" y1="266.7188" y2="266.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="805.5" y="261.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="210" x="816.5" y="261.8623">getCostumerList= getCostumerList()</text><polygon fill="#181818" points="69.5,293.0703,59.5,297.0703,69.5,301.0703,65.5,297.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="575.5" y1="297.0703" y2="297.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="75.5" y="292.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="86.5" y="292.2139">shows list of costumers</text><polygon fill="#181818" points="559.5,323.4219,569.5,327.4219,559.5,331.4219,563.5,327.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58.5" x2="565.5" y1="327.4219" y2="327.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="65.5" y="322.5654">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="76.5" y="322.5654">types the chosen costumer's id</text><polygon fill="#181818" points="781.5,353.7734,791.5,357.7734,781.5,361.7734,785.5,357.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="787.5" y1="357.7734" y2="357.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="588.5" y="352.917">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="599.5" y="352.917">getCostumer</text><polygon fill="#181818" points="1266,384.125,1276,388.125,1266,392.125,1270,388.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="1272" y1="388.125" y2="388.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="383.2686">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168" x="828.5" y="383.2686">getCostumer= getCostumer()</text><path d="M10,433.125 L83,433.125 L83,441.4766 L73,451.4766 L10,451.4766 L10,433.125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1190.7578" style="stroke:#000000;stroke-width:1.5;" width="1971.5" x="10" y="433.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="447.6201">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="62" x="98" y="446.5439">[until exits]</text><polygon fill="#181818" points="69.5,469.8281,59.5,473.8281,69.5,477.8281,65.5,473.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="575.5" y1="473.8281" y2="473.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75.5" y="468.9717">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="93.5" y="468.9717">asks for a field to filter the catalog</text><polygon fill="#181818" points="559.5,500.1797,569.5,504.1797,559.5,508.1797,563.5,504.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58.5" x2="565.5" y1="504.1797" y2="504.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="65.5" y="499.3232">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="83.5" y="499.3232">types the field</text><path d="M484.5,519.1797 L545.5,519.1797 L545.5,527.5313 L535.5,537.5313 L484.5,537.5313 L484.5,519.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="322.1328" style="stroke:#000000;stroke-width:1.5;" width="1181" x="484.5" y="519.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="499.5" y="533.6748">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107" x="560.5" y="532.5986">[chooses category]</text><polygon fill="#181818" points="781.5,555.8828,791.5,559.8828,781.5,563.8828,785.5,559.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="787.5" y1="559.8828" y2="559.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="588.5" y="555.0264">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="606.5" y="555.0264">getProductByCategory</text><polygon fill="#181818" points="1571,586.2344,1581,590.2344,1571,594.2344,1575,590.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="1577" y1="590.2344" y2="590.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="585.3779">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="828.5" y="585.3779">getProductByCategory= getProductByCategory()</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484.5" x2="1665.5" y1="629.2344" y2="629.2344"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="91" x="489.5" y="640.6533">[chooses brand]</text><polygon fill="#181818" points="781.5,662.4219,791.5,666.4219,781.5,670.4219,785.5,666.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="787.5" y1="666.4219" y2="666.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="588.5" y="661.5654">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="606.5" y="661.5654">getProductByBrand</text><polygon fill="#181818" points="1571,692.7734,1581,696.7734,1571,700.7734,1575,696.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="1577" y1="696.7734" y2="696.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="691.917">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="828.5" y="691.917">getProductByBrand= getProductByBrand()</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="484.5" x2="1665.5" y1="735.7734" y2="735.7734"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="152" x="489.5" y="747.1924">[chooses shortdescription]</text><polygon fill="#181818" points="781.5,768.9609,791.5,772.9609,781.5,776.9609,785.5,772.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="787.5" y1="772.9609" y2="772.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="588.5" y="768.1045">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="606.5" y="768.1045">getProductByShortDescription</text><polygon fill="#181818" points="1571,799.3125,1581,803.3125,1571,807.3125,1575,803.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="1577" y1="803.3125" y2="803.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="798.4561">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="370" x="828.5" y="798.4561">getProductByShortDescription= getProductByShortDescription()</text><polygon fill="#181818" points="69.5,866.6641,59.5,870.6641,69.5,874.6641,65.5,870.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="575.5" y1="870.6641" y2="870.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75.5" y="865.8076">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="471" x="93.5" y="865.8076">shows list of products and asks to choose how to order the list (by name or price)</text><polygon fill="#181818" points="559.5,897.0156,569.5,901.0156,559.5,905.0156,563.5,901.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58.5" x2="565.5" y1="901.0156" y2="901.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="65.5" y="896.1592">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="83.5" y="896.1592">chooses how to order</text><polygon fill="#181818" points="781.5,927.3672,791.5,931.3672,781.5,935.3672,785.5,931.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="787.5" y1="931.3672" y2="931.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="588.5" y="926.5107">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="606.5" y="926.5107">getProducts</text><polygon fill="#181818" points="968.5,957.7188,978.5,961.7188,968.5,965.7188,972.5,961.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="974.5" y1="961.7188" y2="961.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="956.8623">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="828.5" y="956.8623">repositories()</text><polygon fill="#181818" points="1115.5,988.0703,1125.5,992.0703,1115.5,996.0703,1119.5,992.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="985.5" x2="1121.5" y1="992.0703" y2="992.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="992.5" y="987.2139">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1010.5" y="987.2139">create</text><polygon fill="#181818" points="1571,1018.4219,1581,1022.4219,1571,1026.4219,1575,1022.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1132.5" x2="1577" y1="1022.4219" y2="1022.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1139.5" y="1017.5654">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1157.5" y="1017.5654">create</text><polygon fill="#181818" points="1576,1048.7734,1586,1052.7734,1576,1056.7734,1580,1052.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="798.5" x2="1582" y1="1052.7734" y2="1052.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="805.5" y="1047.917">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="823.5" y="1047.917">getProducts= getProducts()</text><polygon fill="#181818" points="781.5,1079.125,791.5,1083.125,781.5,1087.125,785.5,1083.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="787.5" y1="1083.125" y2="1083.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="588.5" y="1078.2686">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="606.5" y="1078.2686">orderProducts</text><path d="M681.5,1098.125 L742.5,1098.125 L742.5,1106.4766 L732.5,1116.4766 L681.5,1116.4766 L681.5,1098.125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="154.8906" style="stroke:#000000;stroke-width:1.5;" width="984" x="681.5" y="1098.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="696.5" y="1112.6201">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="146" x="757.5" y="1111.5439">[chooses to sort by name]</text><polygon fill="#181818" points="1571,1134.8281,1581,1138.8281,1571,1142.8281,1575,1138.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="1577" y1="1138.8281" y2="1138.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="1133.9717">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="828.5" y="1133.9717">orderByName= orderByName()</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="681.5" x2="1665.5" y1="1177.8281" y2="1177.8281"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="143" x="686.5" y="1189.2471">[chooses to sort by price]</text><polygon fill="#181818" points="1571,1211.0156,1581,1215.0156,1571,1219.0156,1575,1215.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="1577" y1="1215.0156" y2="1215.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="1210.1592">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="828.5" y="1210.1592">orderByPrice= orderByPrice()</text><polygon fill="#181818" points="69.5,1278.3672,59.5,1282.3672,69.5,1286.3672,65.5,1282.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="575.5" y1="1282.3672" y2="1282.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75.5" y="1277.5107">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="93.5" y="1277.5107">shows list of products and asks for the ID</text><polygon fill="#181818" points="559.5,1308.7188,569.5,1312.7188,559.5,1316.7188,563.5,1312.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58.5" x2="565.5" y1="1312.7188" y2="1312.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="65.5" y="1307.8623">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="83.5" y="1307.8623">types the chosen product's ID</text><polygon fill="#181818" points="781.5,1339.0703,791.5,1343.0703,781.5,1347.0703,785.5,1343.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="787.5" y1="1343.0703" y2="1343.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="588.5" y="1338.2139">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="606.5" y="1338.2139">getProduct</text><polygon fill="#181818" points="1571,1369.4219,1581,1373.4219,1571,1377.4219,1575,1373.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="1577" y1="1373.4219" y2="1373.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="1368.5654">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="828.5" y="1368.5654">getProduct= getProduct()</text><polygon fill="#181818" points="69.5,1429.7734,59.5,1433.7734,69.5,1437.7734,65.5,1433.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="63.5" x2="575.5" y1="1433.7734" y2="1433.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="75.5" y="1428.917">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="308" x="93.5" y="1428.917">shows all data(code,description,brand,category,price)</text><polygon fill="#181818" points="559.5,1460.125,569.5,1464.125,559.5,1468.125,563.5,1464.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="58.5" x2="565.5" y1="1464.125" y2="1464.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="65.5" y="1459.2686">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="83.5" y="1459.2686">adds product to the shopping cart</text><polygon fill="#181818" points="781.5,1490.4766,791.5,1494.4766,781.5,1498.4766,785.5,1494.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="581.5" x2="787.5" y1="1494.4766" y2="1494.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="588.5" y="1489.6201">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="606.5" y="1489.6201">":addProductShopCart</text><polygon fill="#181818" points="968.5,1520.8281,978.5,1524.8281,968.5,1528.8281,972.5,1524.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="803.5" x2="974.5" y1="1524.8281" y2="1524.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="810.5" y="1519.9717">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="828.5" y="1519.9717">repositories()</text><polygon fill="#181818" points="1115.5,1551.1797,1125.5,1555.1797,1115.5,1559.1797,1119.5,1555.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="985.5" x2="1121.5" y1="1555.1797" y2="1555.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="992.5" y="1550.3232">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1010.5" y="1550.3232">create</text><polygon fill="#181818" points="1868,1581.5313,1878,1585.5313,1868,1589.5313,1872,1585.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1132.5" x2="1874" y1="1585.5313" y2="1585.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1139.5" y="1580.6748">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1157.5" y="1580.6748">create</text><polygon fill="#181818" points="1873,1611.8828,1883,1615.8828,1873,1619.8828,1877,1615.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="798.5" x2="1879" y1="1615.8828" y2="1615.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="805.5" y="1611.0264">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="823.5" y="1611.0264">addProductShopCart= addProductShopCart()</text><polygon fill="#181818" points="64.5,1649.2344,54.5,1653.2344,64.5,1657.2344,60.5,1653.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="58.5" x2="575.5" y1="1653.2344" y2="1653.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="70.5" y="1648.3779">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="88.5" y="1648.3779">informs operation success</text><!--MD5=[ac8db42923a66dca1d2afd619674e095]
@startuml
autonumber
'hide footbox
actor "Customer" as C
participant ":AddProductShopCartUI" as UI
participant ":AddProductShopCartController" as CTRL
participant ":PersistenceContext" as PC
participant ":RepositoryFactory" as RF
participant ":CostumerRepository" as CostRepo
participant ":CategoryRepository" as CatRepo
participant ":ProductRepository" as ProdRepo
participant ":OrderRepository" as OrdRepo
participant ":ShoppingCartRepository" as ShopRepo


activate C

C -> UI : starts to create new product's order for a given costumer
activate UI

UI -> CTRL : getCostumerList
activate CTRL
CTRL -> PC : repositories()

activate PC
PC -> RF : create
deactivate PC
activate RF
RF -> CostRepo : create
deactivate RF
activate CostRepo
deactivate CostRepo
CTRL -> CostRepo : getCostumerList= getCostumerList()
deactivate CTRL
deactivate CostRepo
UI - -> C : shows list of costumers
deactivate PC
deactivate UI

C -> UI : types the chosen costumer's id
activate UI

UI -> CTRL : getCostumer
activate CTRL
CTRL -> CostRepo : getCostumer= getCostumer()
activate CostRepo
deactivate CTRL
deactivate CostRepo



loop until exits

UI - -> C : asks for a field to filter the catalog
deactivate UI
C -> UI : types the field
activate UI

alt chooses category
UI -> CTRL : getProductByCategory
activate CTRL
CTRL -> ProdRepo : getProductByCategory= getProductByCategory()
activate ProdRepo
deactivate CTRL
deactivate ProdRepo

else chooses brand
UI -> CTRL : getProductByBrand
activate CTRL
CTRL -> ProdRepo : getProductByBrand= getProductByBrand()
activate ProdRepo
deactivate CTRL
deactivate ProdRepo

else chooses shortdescription
UI -> CTRL : getProductByShortDescription
activate CTRL
CTRL -> ProdRepo : getProductByShortDescription= getProductByShortDescription()
activate ProdRepo
deactivate CTRL
deactivate ProdRepo
end

UI - -> C : shows list of products and asks to choose how to order the list (by name or price)
deactivate UI

C -> UI : chooses how to order
activate UI


UI -> CTRL : getProducts
activate CTRL
CTRL -> PC : repositories()

activate PC
PC -> RF : create
deactivate PC
activate RF
RF -> ProdRepo : create
deactivate RF
activate ProdRepo
deactivate ProdRepo
CTRL -> ProdRepo : getProducts= getProducts()
deactivate CTRL
deactivate ProdRepo

UI -> CTRL : orderProducts
activate CTRL

alt chooses to sort by name
CTRL -> ProdRepo : orderByName= orderByName()
activate ProdRepo
deactivate ProdRepo

else chooses to sort by price
CTRL -> ProdRepo : orderByPrice= orderByPrice()
activate ProdRepo
deactivate CTRL
deactivate ProdRepo
end


UI - -> C : shows list of products and asks for the ID
deactivate UI

C -> UI : types the chosen product's ID
activate UI


UI -> CTRL : getProduct
activate CTRL
CTRL -> ProdRepo : getProduct= getProduct()
activate ProdRepo
deactivate CTRL
deactivate ProdRepo

UI - -> C :shows all data(code,description,brand,category,price)
deactivate UI

C -> UI : adds product to the shopping cart
activate UI
UI -> CTRL : ":addProductShopCart
activate CTRL
CTRL -> PC : repositories()

activate PC
PC -> RF : create
deactivate PC
activate RF
RF -> ShopRepo : create
deactivate RF
activate ShopRepo
deactivate ShopRepo
CTRL -> ShopRepo : addProductShopCart= addProductShopCart()
deactivate CTRL
deactivate ShopRepo


end loop

activate UI




UI - -> C : informs operation success
deactivate UI
deactivate C

@enduml

@startuml
autonumber
actor "Customer" as C
participant ":AddProductShopCartUI" as UI
participant ":AddProductShopCartController" as CTRL
participant ":PersistenceContext" as PC
participant ":RepositoryFactory" as RF
participant ":CostumerRepository" as CostRepo
participant ":CategoryRepository" as CatRepo
participant ":ProductRepository" as ProdRepo
participant ":OrderRepository" as OrdRepo
participant ":ShoppingCartRepository" as ShopRepo


activate C

C -> UI : starts to create new product's order for a given costumer
activate UI

UI -> CTRL : getCostumerList
activate CTRL
CTRL -> PC : repositories()

activate PC
PC -> RF : create
deactivate PC
activate RF
RF -> CostRepo : create
deactivate RF
activate CostRepo
deactivate CostRepo
CTRL -> CostRepo : getCostumerList= getCostumerList()
deactivate CTRL
deactivate CostRepo
UI - -> C : shows list of costumers
deactivate PC
deactivate UI

C -> UI : types the chosen costumer's id
activate UI

UI -> CTRL : getCostumer
activate CTRL
CTRL -> CostRepo : getCostumer= getCostumer()
activate CostRepo
deactivate CTRL
deactivate CostRepo



loop until exits

UI - -> C : asks for a field to filter the catalog
deactivate UI
C -> UI : types the field
activate UI

alt chooses category
UI -> CTRL : getProductByCategory
activate CTRL
CTRL -> ProdRepo : getProductByCategory= getProductByCategory()
activate ProdRepo
deactivate CTRL
deactivate ProdRepo

else chooses brand
UI -> CTRL : getProductByBrand
activate CTRL
CTRL -> ProdRepo : getProductByBrand= getProductByBrand()
activate ProdRepo
deactivate CTRL
deactivate ProdRepo

else chooses shortdescription
UI -> CTRL : getProductByShortDescription
activate CTRL
CTRL -> ProdRepo : getProductByShortDescription= getProductByShortDescription()
activate ProdRepo
deactivate CTRL
deactivate ProdRepo
end

UI - -> C : shows list of products and asks to choose how to order the list (by name or price)
deactivate UI

C -> UI : chooses how to order
activate UI


UI -> CTRL : getProducts
activate CTRL
CTRL -> PC : repositories()

activate PC
PC -> RF : create
deactivate PC
activate RF
RF -> ProdRepo : create
deactivate RF
activate ProdRepo
deactivate ProdRepo
CTRL -> ProdRepo : getProducts= getProducts()
deactivate CTRL
deactivate ProdRepo

UI -> CTRL : orderProducts
activate CTRL

alt chooses to sort by name
CTRL -> ProdRepo : orderByName= orderByName()
activate ProdRepo
deactivate ProdRepo

else chooses to sort by price
CTRL -> ProdRepo : orderByPrice= orderByPrice()
activate ProdRepo
deactivate CTRL
deactivate ProdRepo
end


UI - -> C : shows list of products and asks for the ID
deactivate UI

C -> UI : types the chosen product's ID
activate UI


UI -> CTRL : getProduct
activate CTRL
CTRL -> ProdRepo : getProduct= getProduct()
activate ProdRepo
deactivate CTRL
deactivate ProdRepo

UI - -> C :shows all data(code,description,brand,category,price)
deactivate UI

C -> UI : adds product to the shopping cart
activate UI
UI -> CTRL : ":addProductShopCart
activate CTRL
CTRL -> PC : repositories()

activate PC
PC -> RF : create
deactivate PC
activate RF
RF -> ShopRepo : create
deactivate RF
activate ShopRepo
deactivate ShopRepo
CTRL -> ShopRepo : addProductShopCart= addProductShopCart()
deactivate CTRL
deactivate ShopRepo


end loop

activate UI




UI - -> C : informs operation success
deactivate UI
deactivate C

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>