@startuml
skinparam object {
ArrowColor DarkBlue
}

skinparam stereotypeCBackgroundColor LightBlue


package Category <<Aggregate>> {
    entity Category <<Entity>>

    object AlphaNumericCode <<Value Object>>

    object Description <<Value Object>>
}

/' OrderManagement '/
package Order <<Aggregate>>{

entity Product <<Entity>> <<Root>>

object ProductPriceDetail <<ValueObject>>

object Price <<Value Object>>

object PriceOrder <<ValueObject>>

object Barcode <<Value Object>>

object Picture <<Value Object>>

object Brand <<Value Object>>

object ProductItem <<Value Object>>

object Quantity <<Value Object>>

entity PriceItem <<Entity>>

object Weight <<Value Object>>

entity ProductDescription <<Entity>>

object Reference <<Value Object>>

object UniqueInternalCode <<Value Object>>

entity Order <<Entity>> <<Root>>

object LineOrder <<Value Object>>

object PriceTableID <<Value Object>>

entity PriceTable <<Entity>>

entity SalesRegion <<Entity>>

entity Costumer <<Entity>> <<Root>>

object Contact <<Value Object>>

object PhoneNumber <<Value Object>>

object EmailAddress <<Value Object>>

object Name <<Value Object>>

object Gender <<Value Object>>

    entity PostalAddress <<Entity>> {
    - Type
    }

object DateTime <<Value Object>>

object OrderID <<Value Object>>

entity ShoppingCart <<Entity>>

entity PaymentMethod <<Entity>>

object ShippingCost <<ValueObject>>

object Volume <<ValueObject>>

object CostumerID <<Value Object>>

object Birthday <<Value Object>>

object VATIdentifier <<Value Object>>

   entity ShippingMethod <<Entity>>{
    -Type
    }

     entity Status <<Entity>>{
        -State
     }
}

/' WarehouseManagement '/
 package Warehouse <<Aggregate>>{

 entity Warehouse <<Entity>> <<Root>>{
     -Row
     -Shelf
     -Aisle
     }

    object Plan <<ValueObject>>

    entity Location <<Entity>>

     object StorageArea <<ValueObject>> {
         -AisleId
         -RowId
         -ShelfId
         }

 }

 object AGV_Warehouse <<ValueObject>>

package AGV <<Aggregate>>{
 entity AGV <<Entity>>{
     -Autonomy
     }

     object Route <<Value Object>>

     object Identifier <<Value Object>>

     object Model <<ValueObject>>

     object AGVDescription <<ValueObject>>

     object MaxWeightCarry <<ValueObject>>

     object AGVDock <<ValueObject>>

     entity Task <<Entity>>
}


/' Survey '/
package Survey <<Aggregate>>{

    object Survey <<Value Object>> {
    -topic
    }

object SurveyAlphaNumericCode <<ValueObject>>

object SurveyDescription <<ValueObject>>

object SurveyPeriod <<ValueObject>>

object SurveyRule <<ValueObject>>

object Question <<ValueObject>>
}

entity Employee <<Entity>>

entity User <<Entity>>

object Username <<ValueObject>>

object Password <<ValueObject>>

/' Employee '/
Employee --- AGV : manages >

/' User '/
User -- Username : has >
User -- Password : has >
User <|-- Costumer
User <|-- Employee


/' Costumer '/
Costumer --- "1" CostumerID : has >
Costumer --- "1" Contact : preferredContact >
Costumer -- "1" Name : identifiedBy >
Costumer --  Contact : contacts
Costumer -- "1" Gender : identifiedBy >
Costumer -- "1..*" PostalAddress : has >
Costumer -- "1" Birthday : dateOfBirth >
Contact <|-- PhoneNumber
Contact <|-- EmailAddress
Costumer -- "1" Survey : answers >
Costumer -- "1" VATIdentifier : has >


/' Product '/
Product --- "1" Category: categorized >
Product --- "1..*" Picture: has >
Product --- "1" Barcode: has >
Product --- "1" Brand: has >
ProductPriceDetail -- "1" Product: <
ProductPriceDetail --- "1..*" PriceTable: >
PriceTable --- "1" PriceTableID: >
PriceTable --- "1" SalesRegion: >
Product --- "1" ProductItem: becomes >
ProductItem --- "1" Quantity: has >
Product --- "1" Reference: has >
Product --- "1..*" ProductDescription: has >
Product --- "1" UniqueInternalCode: has >
PriceItem --- Quantity: depends >



/' Category '/
Category --- "1" AlphaNumericCode  : categorized >
Category --- "1" Description  : categorized >
Category --- Category: it's child of


/' Warehouse '/
Warehouse -- "1..*" AGV: has >
AGV -- "1..*" Route: has >
AGV -- "1" Identifier: has >
AGV -- "1" Model: has >
Warehouse -- "1" Plan: >
AGV -- "1" AGVDescription : has >
AGV -- "1" MaxWeightCarry : has >
AGV -- "1" AGVDock : has >
AGV -- "1" Task : performs >
AGV -- AGV_Warehouse: >
Warehouse -- "1..*" AGV_Warehouse: knows >
Plan -- Location: has >


/' Survey '/
Survey -- "1..*" SurveyRule: has >
Survey -- "1" SurveyDescription: has >
Survey -- "1" SurveyAlphaNumericCode: caracterized >
Survey -- "1" SurveyPeriod: has >
Survey -- "1..*" Question: has >

Question -- Question: depends >


/' ShippingCost '/
ShippingCost --- Weight: depends >
ShippingCost --- Volume: depends >


/' Order '/
Order --- "1" OrderID : >
Order --- "1" DateTime : >
Order --- "1" Status : has >
Order --- "1" PaymentMethod : has >
Order --- "1" ShippingMethod : has >
Order --- "1" Survey : generates >
ShippingCost --- "1" SalesRegion: depends >
ShippingMethod--- "1" ShippingCost: has >
Product --- "1" Weight: has >
LineOrder -- "1" Price: has >
LineOrder --- "1" Order: >
LineOrder --- "1" ProductItem: has >
PriceOrder --- Order: depends >
PriceOrder --- ShippingCost: depends >


/' ShoppingCart '/
ShoppingCart --- "1..*" ProductItem: has >




/' Joined Aggregates '/
Costumer "1" -- "1..*" Order: orders >
Costumer -- "1..*" Product: chooses >
Warehouse -- "1..*" StorageArea: contains >
StorageArea -- "1..*" Product: stores >
@enduml