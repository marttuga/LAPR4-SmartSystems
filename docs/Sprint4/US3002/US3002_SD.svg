<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1599px" preserveAspectRatio="none" style="width:1857px;height:1599px;background:#FFFFFF;" version="1.1" viewBox="0 0 1857 1599" width="1857px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1392.9746" style="stroke:#181818;stroke-width:1.0;" width="10" x="52.5" y="93.9766"/><rect fill="#FFFFFF" height="205.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="446.5" y="115.2871"/><rect fill="#FFFFFF" height="1137.1797" style="stroke:#181818;stroke-width:1.0;" width="10" x="446.5" y="349.7715"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="699.5" y="144.5977"/><rect fill="#FFFFFF" height="212.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="699.5" y="379.082"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="699.5" y="650.1875"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="699.5" y="855.3613"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="699.5" y="1060.5352"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="936.5" y="173.9082"/><rect fill="#FFFFFF" height="59.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="936.5" y="1089.8457"/><rect fill="#FFFFFF" height="153.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="1056.5" y="408.3926"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1056.5" y="679.498"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1056.5" y="884.6719"/><rect fill="#FFFFFF" height="139.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176.5" y="1119.1563"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1302" y="203.2188"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1439" y="503.6348"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1439" y="708.8086"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1439" y="913.9824"/><rect fill="#FFFFFF" height="228.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="1579.5" y="1229.0879"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="57" x2="57" y1="83.9766" y2="1504.9512"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="451" x2="451" y1="83.9766" y2="1504.9512"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="704" x2="704" y1="83.9766" y2="1504.9512"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="941" x2="941" y1="83.9766" y2="1504.9512"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1061" x2="1061" y1="83.9766" y2="1504.9512"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1181" x2="1181" y1="83.9766" y2="1504.9512"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1307" x2="1307" y1="83.9766" y2="1504.9512"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1444" x2="1444" y1="83.9766" y2="1504.9512"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1584" x2="1584" y1="83.9766" y2="1504.9512"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="5" y="81.0234">Sales Manager</text><ellipse cx="57.5" cy="15.9883" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M57.5,23.9883 L57.5,50.9883 M44.5,31.9883 L70.5,31.9883 M57.5,50.9883 L44.5,65.9883 M57.5,50.9883 L70.5,65.9883 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="5" y="1517.4863">Sales Manager</text><ellipse cx="57.5" cy="1528.9395" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M57.5,1536.9395 L57.5,1563.9395 M44.5,1544.9395 L70.5,1544.9395 M57.5,1563.9395 L44.5,1578.9395 M57.5,1563.9395 L70.5,1578.9395 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="382" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101" x="401" y="56.5352">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="389" y="73.0234">StatisticalReportUI</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139" x="382" y="1503.9512"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="101" x="401" y="1524.4863">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="389" y="1540.9746">StatisticalReportUI</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="195" x="607" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="659.5" y="56.5352">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="614" y="73.0234">StatisticalReportController</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="195" x="607" y="1503.9512"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="659.5" y="1524.4863">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181" x="614" y="1540.9746">StatisticalReportController</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="888" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="896.5" y="56.5352">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="895" y="73.0234">SurveyService</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="888" y="1503.9512"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="896.5" y="1524.4863">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="895" y="1540.9746">SurveyService</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="1005" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="1016.5" y="56.5352">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1012" y="73.0234">AnswerService</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="113" x="1005" y="1503.9512"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="90" x="1016.5" y="1524.4863">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1012" y="1540.9746">AnswerService</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="1128" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66" x="1148.5" y="56.5352">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1135" y="73.0234">survey:Survey</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="1128" y="1503.9512"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="66" x="1148.5" y="1524.4863">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="1135" y="1540.9746">survey:Survey</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1262" y="64.5352">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1245" y="81.0234">SurveyRepository</text><path d="M1289,15 C1289,5 1307,5 1307,5 C1307,5 1325,5 1325,15 L1325,41 C1325,51 1307,51 1307,51 C1307,51 1289,51 1289,41 L1289,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1289,15 C1289,25 1307,25 1307,25 C1307,25 1325,25 1325,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1262" y="1517.4863">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118" x="1245" y="1533.9746">SurveyRepository</text><path d="M1289,1546.9277 C1289,1536.9277 1307,1536.9277 1307,1536.9277 C1307,1536.9277 1325,1536.9277 1325,1546.9277 L1325,1572.9277 C1325,1582.9277 1307,1582.9277 1307,1582.9277 C1307,1582.9277 1289,1582.9277 1289,1572.9277 L1289,1546.9277 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1289,1546.9277 C1289,1556.9277 1307,1556.9277 1307,1556.9277 C1307,1556.9277 1325,1556.9277 1325,1546.9277 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1399" y="64.5352">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1379" y="81.0234">AnswerRepository</text><path d="M1426,15 C1426,5 1444,5 1444,5 C1444,5 1462,5 1462,15 L1462,41 C1462,51 1444,51 1444,51 C1444,51 1426,51 1426,41 L1426,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1426,15 C1426,25 1444,25 1444,25 C1444,25 1462,25 1462,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1399" y="1517.4863">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="1379" y="1533.9746">AnswerRepository</text><path d="M1426,1546.9277 C1426,1536.9277 1444,1536.9277 1444,1536.9277 C1444,1536.9277 1462,1536.9277 1462,1546.9277 L1462,1572.9277 C1462,1582.9277 1444,1582.9277 1444,1582.9277 C1444,1582.9277 1426,1582.9277 1426,1572.9277 L1426,1546.9277 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1426,1546.9277 C1426,1556.9277 1444,1556.9277 1444,1556.9277 C1444,1556.9277 1462,1556.9277 1462,1546.9277 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="1519" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="1556.5" y="56.5352">«visitor»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1526" y="73.0234">EvalVisitorReport</text><rect fill="#E2E2F0" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="1519" y="1503.9512"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="1556.5" y="1524.4863">«visitor»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="1526" y="1540.9746">EvalVisitorReport</text><rect fill="#FFFFFF" height="1392.9746" style="stroke:#181818;stroke-width:1.0;" width="10" x="52.5" y="93.9766"/><rect fill="#FFFFFF" height="205.1738" style="stroke:#181818;stroke-width:1.0;" width="10" x="446.5" y="115.2871"/><rect fill="#FFFFFF" height="1137.1797" style="stroke:#181818;stroke-width:1.0;" width="10" x="446.5" y="349.7715"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="699.5" y="144.5977"/><rect fill="#FFFFFF" height="212.4844" style="stroke:#181818;stroke-width:1.0;" width="10" x="699.5" y="379.082"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="699.5" y="650.1875"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="699.5" y="855.3613"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="699.5" y="1060.5352"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="936.5" y="173.9082"/><rect fill="#FFFFFF" height="59.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="936.5" y="1089.8457"/><rect fill="#FFFFFF" height="153.8633" style="stroke:#181818;stroke-width:1.0;" width="10" x="1056.5" y="408.3926"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1056.5" y="679.498"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1056.5" y="884.6719"/><rect fill="#FFFFFF" height="139.9316" style="stroke:#181818;stroke-width:1.0;" width="10" x="1176.5" y="1119.1563"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1302" y="203.2188"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1439" y="503.6348"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1439" y="708.8086"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1439" y="913.9824"/><rect fill="#FFFFFF" height="228.5527" style="stroke:#181818;stroke-width:1.0;" width="10" x="1579.5" y="1229.0879"/><polygon fill="#181818" points="434.5,111.2871,444.5,115.2871,434.5,119.2871,438.5,115.2871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62.5" x2="440.5" y1="115.2871" y2="115.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="69.5" y="110.5449">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352" x="82.5" y="110.5449">Starts to see surveys available to make statistical report</text><polygon fill="#181818" points="687.5,140.5977,697.5,144.5977,687.5,148.5977,691.5,144.5977" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="456.5" x2="693.5" y1="144.5977" y2="144.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="463.5" y="139.8555">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="476.5" y="139.8555">showSurveysAnswered()</text><polygon fill="#181818" points="924.5,169.9082,934.5,173.9082,924.5,177.9082,928.5,173.9082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="709.5" x2="930.5" y1="173.9082" y2="173.9082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="716.5" y="169.166">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="729.5" y="169.166">showSurveysAnswered()</text><polygon fill="#181818" points="1290,199.2188,1300,203.2188,1290,207.2188,1294,203.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="946.5" x2="1296" y1="203.2188" y2="203.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="953.5" y="198.4766">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="966.5" y="198.4766">findSurveys()</text><polygon fill="#181818" points="957.5,228.5293,947.5,232.5293,957.5,236.5293,953.5,232.5293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="951.5" x2="1306" y1="232.5293" y2="232.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="963.5" y="227.7871">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="976.5" y="227.7871">List&lt;Survey&gt;</text><polygon fill="#181818" points="720.5,257.8398,710.5,261.8398,720.5,265.8398,716.5,261.8398" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="714.5" x2="940.5" y1="261.8398" y2="261.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="726.5" y="257.0977">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="739.5" y="257.0977">List&lt;SurveyDTO&gt;</text><polygon fill="#181818" points="467.5,287.1504,457.5,291.1504,467.5,295.1504,463.5,291.1504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="461.5" x2="703.5" y1="291.1504" y2="291.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="473.5" y="286.4082">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="486.5" y="286.4082">List&lt;SurveyDTO&gt;</text><polygon fill="#181818" points="73.5,316.4609,63.5,320.4609,73.5,324.4609,69.5,320.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67.5" x2="450.5" y1="320.4609" y2="320.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="79.5" y="315.7188">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="92.5" y="315.7188">List&lt;SurveyDTO&gt;</text><polygon fill="#181818" points="434.5,345.7715,444.5,349.7715,434.5,353.7715,438.5,349.7715" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="62.5" x2="440.5" y1="349.7715" y2="349.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="69.5" y="345.0293">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="82.5" y="345.0293">Chooses SurveyID</text><polygon fill="#181818" points="687.5,375.082,697.5,379.082,687.5,383.082,691.5,379.082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="456.5" x2="693.5" y1="379.082" y2="379.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="463.5" y="374.3398">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="485.5" y="374.3398">calculateUniverse(SurveyID)</text><polygon fill="#181818" points="1044.5,404.3926,1054.5,408.3926,1044.5,412.3926,1048.5,408.3926" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="709.5" x2="1050.5" y1="408.3926" y2="408.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="716.5" y="403.6504">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="738.5" y="403.6504">calculateUniverse(SurveyID)</text><path d="M1449,421.3926 L1449,476.3926 L1746,476.3926 L1746,431.3926 L1736,421.3926 L1449,421.3926 " fill="#CCE2CB" style="stroke:#181818;stroke-width:0.5;"/><path d="M1736,421.3926 L1736,431.3926 L1746,431.3926 L1736,421.3926 " fill="#CCE2CB" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="1455" y="438.9609">Each answer has a costumer associated,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="1455" y="454.2715">so amount of answers equals</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276" x="1455" y="469.582">the equals amounts of customers (universe)</text><polygon fill="#181818" points="1427,499.6348,1437,503.6348,1427,507.6348,1431,503.6348" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1066.5" x2="1433" y1="503.6348" y2="503.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1073.5" y="498.8926">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="1095.5" y="498.8926">calculateUniverse(SurveyID)</text><polygon fill="#181818" points="1077.5,528.9453,1067.5,532.9453,1077.5,536.9453,1073.5,532.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1071.5" x2="1443" y1="532.9453" y2="532.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1083.5" y="528.2031">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="1105.5" y="528.2031">universe</text><polygon fill="#181818" points="720.5,558.2559,710.5,562.2559,720.5,566.2559,716.5,562.2559" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="714.5" x2="1060.5" y1="562.2559" y2="562.2559"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="726.5" y="557.5137">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="748.5" y="557.5137">universe</text><polygon fill="#181818" points="467.5,587.5664,457.5,591.5664,467.5,595.5664,463.5,591.5664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="461.5" x2="703.5" y1="591.5664" y2="591.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="473.5" y="586.8242">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="495.5" y="586.8242">universe</text><polygon fill="#181818" points="73.5,616.877,63.5,620.877,73.5,624.877,69.5,620.877" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67.5" x2="445.5" y1="620.877" y2="620.877"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="79.5" y="616.1348">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="101.5" y="616.1348">Shows universe</text><polygon fill="#181818" points="687.5,646.1875,697.5,650.1875,687.5,654.1875,691.5,650.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="456.5" x2="693.5" y1="650.1875" y2="650.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="463.5" y="645.4453">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="485.5" y="645.4453">calculatePercentage(SurveyID)</text><polygon fill="#181818" points="1044.5,675.498,1054.5,679.498,1044.5,683.498,1048.5,679.498" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="709.5" x2="1050.5" y1="679.498" y2="679.498"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="716.5" y="674.7559">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="738.5" y="674.7559">calculatePercentage(SurveyID)</text><polygon fill="#181818" points="1427,704.8086,1437,708.8086,1427,712.8086,1431,708.8086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1066.5" x2="1433" y1="708.8086" y2="708.8086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1073.5" y="704.0664">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="1095.5" y="704.0664">calculatePercentage(SurveyID)</text><polygon fill="#181818" points="1077.5,734.1191,1067.5,738.1191,1077.5,742.1191,1073.5,738.1191" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1071.5" x2="1443" y1="738.1191" y2="738.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1083.5" y="733.377">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="1105.5" y="733.377">answers</text><polygon fill="#181818" points="720.5,763.4297,710.5,767.4297,720.5,771.4297,716.5,767.4297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="714.5" x2="1060.5" y1="767.4297" y2="767.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="726.5" y="762.6875">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="748.5" y="762.6875">percentage</text><polygon fill="#181818" points="467.5,792.7402,457.5,796.7402,467.5,800.7402,463.5,796.7402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="461.5" x2="703.5" y1="796.7402" y2="796.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="473.5" y="791.998">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="495.5" y="791.998">percentage</text><polygon fill="#181818" points="73.5,822.0508,63.5,826.0508,73.5,830.0508,69.5,826.0508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67.5" x2="445.5" y1="826.0508" y2="826.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="79.5" y="821.3086">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="101.5" y="821.3086">Shows percentage</text><polygon fill="#181818" points="687.5,851.3613,697.5,855.3613,687.5,859.3613,691.5,855.3613" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="456.5" x2="693.5" y1="855.3613" y2="855.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="463.5" y="850.6191">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="485.5" y="850.6191">calculateNumAnswers(SurveyID)</text><polygon fill="#181818" points="1044.5,880.6719,1054.5,884.6719,1044.5,888.6719,1048.5,884.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="709.5" x2="1050.5" y1="884.6719" y2="884.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="716.5" y="879.9297">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="738.5" y="879.9297">calculateNumAnswers(SurveyID)</text><polygon fill="#181818" points="1427,909.9824,1437,913.9824,1427,917.9824,1431,913.9824" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1066.5" x2="1433" y1="913.9824" y2="913.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1073.5" y="909.2402">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="1095.5" y="909.2402">calculateNumAnswers(SurveyID)</text><polygon fill="#181818" points="1077.5,939.293,1067.5,943.293,1077.5,947.293,1073.5,943.293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1071.5" x2="1443" y1="943.293" y2="943.293"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1083.5" y="938.5508">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="1105.5" y="938.5508">numAnswers</text><polygon fill="#181818" points="720.5,968.6035,710.5,972.6035,720.5,976.6035,716.5,972.6035" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="714.5" x2="1060.5" y1="972.6035" y2="972.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="726.5" y="967.8613">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="748.5" y="967.8613">numAnswers</text><polygon fill="#181818" points="467.5,997.9141,457.5,1001.9141,467.5,1005.9141,463.5,1001.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="461.5" x2="703.5" y1="1001.9141" y2="1001.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="473.5" y="997.1719">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="495.5" y="997.1719">numAnswers</text><polygon fill="#181818" points="73.5,1027.2246,63.5,1031.2246,73.5,1035.2246,69.5,1031.2246" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="67.5" x2="445.5" y1="1031.2246" y2="1031.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="79.5" y="1026.4824">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="101.5" y="1026.4824">Shows numAnswers</text><polygon fill="#181818" points="687.5,1056.5352,697.5,1060.5352,687.5,1064.5352,691.5,1060.5352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="456.5" x2="693.5" y1="1060.5352" y2="1060.5352"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="463.5" y="1055.793">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="485.5" y="1055.793">getStatisticalReport(SurveyID)</text><polygon fill="#181818" points="924.5,1085.8457,934.5,1089.8457,924.5,1093.8457,928.5,1089.8457" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="704.5" x2="930.5" y1="1089.8457" y2="1089.8457"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="711.5" y="1085.1035">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="733.5" y="1085.1035">getStatisticalReport(SurveyID)</text><polygon fill="#181818" points="1164.5,1115.1563,1174.5,1119.1563,1164.5,1123.1563,1168.5,1119.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="946.5" x2="1170.5" y1="1119.1563" y2="1119.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="953.5" y="1114.4141">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="975.5" y="1114.4141">getStatisticalReport()</text><path d="M1589,1162.1563 L1589,1202.1563 L1850,1202.1563 L1850,1172.1563 L1840,1162.1563 L1589,1162.1563 " fill="#CCE2CB" style="stroke:#181818;stroke-width:0.5;"/><path d="M1840,1162.1563 L1840,1172.1563 L1850,1172.1563 L1840,1162.1563 " fill="#CCE2CB" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1595" y="1179.7246">Visitor validates every answer,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="1595" y="1195.0352">and calculates the statistics for report</text><polygon fill="#181818" points="1567.5,1225.0879,1577.5,1229.0879,1567.5,1233.0879,1571.5,1229.0879" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1186.5" x2="1573.5" y1="1229.0879" y2="1229.0879"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1193.5" y="1224.3457">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="1215.5" y="1224.3457">create</text><line style="stroke:#181818;stroke-width:1.0;" x1="1589.5" x2="1631.5" y1="1288.3984" y2="1288.3984"/><line style="stroke:#181818;stroke-width:1.0;" x1="1631.5" x2="1631.5" y1="1288.3984" y2="1301.3984"/><line style="stroke:#181818;stroke-width:1.0;" x1="1590.5" x2="1631.5" y1="1301.3984" y2="1301.3984"/><polygon fill="#181818" points="1600.5,1297.3984,1590.5,1301.3984,1600.5,1305.3984,1596.5,1301.3984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1596.5" y="1283.6563">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1618.5" y="1283.6563">visitSingleChoice()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1589.5" x2="1631.5" y1="1330.709" y2="1330.709"/><line style="stroke:#181818;stroke-width:1.0;" x1="1631.5" x2="1631.5" y1="1330.709" y2="1343.709"/><line style="stroke:#181818;stroke-width:1.0;" x1="1590.5" x2="1631.5" y1="1343.709" y2="1343.709"/><polygon fill="#181818" points="1600.5,1339.709,1590.5,1343.709,1600.5,1347.709,1596.5,1343.709" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1596.5" y="1325.9668">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1618.5" y="1325.9668">visitMultipleChoice()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1589.5" x2="1631.5" y1="1373.0195" y2="1373.0195"/><line style="stroke:#181818;stroke-width:1.0;" x1="1631.5" x2="1631.5" y1="1373.0195" y2="1386.0195"/><line style="stroke:#181818;stroke-width:1.0;" x1="1590.5" x2="1631.5" y1="1386.0195" y2="1386.0195"/><polygon fill="#181818" points="1600.5,1382.0195,1590.5,1386.0195,1600.5,1390.0195,1596.5,1386.0195" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1596.5" y="1368.2773">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="140" x="1618.5" y="1368.2773">statisticSingleChoice()</text><line style="stroke:#181818;stroke-width:1.0;" x1="1589.5" x2="1631.5" y1="1415.3301" y2="1415.3301"/><line style="stroke:#181818;stroke-width:1.0;" x1="1631.5" x2="1631.5" y1="1415.3301" y2="1428.3301"/><line style="stroke:#181818;stroke-width:1.0;" x1="1590.5" x2="1631.5" y1="1428.3301" y2="1428.3301"/><polygon fill="#181818" points="1600.5,1424.3301,1590.5,1428.3301,1600.5,1432.3301,1596.5,1428.3301" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1596.5" y="1410.5879">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="1618.5" y="1410.5879">statisticsMultipleChoice()</text><polygon fill="#181818" points="467.5,1453.6406,457.5,1457.6406,467.5,1461.6406,463.5,1457.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="461.5" x2="1583.5" y1="1457.6406" y2="1457.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="473.5" y="1452.8984">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="495.5" y="1452.8984">statistics</text><polygon fill="#181818" points="68.5,1482.9512,58.5,1486.9512,68.5,1490.9512,64.5,1486.9512" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="62.5" x2="450.5" y1="1486.9512" y2="1486.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="74.5" y="1482.209">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="96.5" y="1482.209">Shows statistics</text><!--MD5=[882f5a3f5d19df90e6b7d2cdcf841eca]
@startuml
autonumber
'hide footbox
actor "Sales Manager" as SM
participant "StatisticalReportUI" as UI <<presentation>>
participant "StatisticalReportController" as CTRL <<application>>
participant "SurveyService" as SERV <<application>>
participant "AnswerService" as ASERV <<application>>
participant "survey:Survey" as Survey <<domain>>
database "SurveyRepository" as SR <<repository>>
database "AnswerRepository" as AR <<repository>>
participant "EvalVisitorReport" as V <<visitor>>


activate SM
SM -> UI : Starts to see surveys available to make statistical report
activate UI

UI -> CTRL : showSurveysAnswered()
activate CTRL


CTRL -> SERV : showSurveysAnswered()

activate SERV
SERV -> SR : findSurveys()
activate SR
SR - -> SERV : List<Survey>
deactivate SR
SERV - -> CTRL : List<SurveyDTO>
deactivate SERV
CTRL - -> UI : List<SurveyDTO>
deactivate CTRL
UI - -> SM : List<SurveyDTO>
deactivate UI


SM -> UI : Chooses SurveyID
activate UI
UI -> CTRL : calculateUniverse(SurveyID)
activate CTRL
CTRL -> ASERV : calculateUniverse(SurveyID)
activate ASERV
note right AR #CCE2CB
    Each answer has a costumer associated, 
    so amount of answers equals 
    the equals amounts of customers (universe)
end note
ASERV -> AR : calculateUniverse(SurveyID)

activate AR
AR - -> ASERV : universe
deactivate AR

ASERV - -> CTRL : universe
deactivate ASERV
CTRL - -> UI : universe
deactivate CTRL
UI - -> SM : Shows universe

UI -> CTRL : calculatePercentage(SurveyID)
activate CTRL
CTRL -> ASERV : calculatePercentage(SurveyID)
activate ASERV
ASERV -> AR : calculatePercentage(SurveyID)
activate AR
AR - -> ASERV : answers
deactivate AR


ASERV - -> CTRL : percentage
deactivate ASERV
CTRL - -> UI : percentage
deactivate CTRL
UI - -> SM : Shows percentage


UI -> CTRL : calculateNumAnswers(SurveyID)
activate CTRL
CTRL -> ASERV : calculateNumAnswers(SurveyID)
activate ASERV
ASERV -> AR : calculateNumAnswers(SurveyID)
activate AR
AR - -> ASERV : numAnswers
deactivate AR

ASERV - -> CTRL : numAnswers
deactivate ASERV
CTRL - -> UI : numAnswers
deactivate CTRL
UI - -> SM : Shows numAnswers


UI -> CTRL : getStatisticalReport(SurveyID)
activate CTRL
CTRL -> SERV : getStatisticalReport(SurveyID)
deactivate CTRL
activate SERV

SERV -> Survey : getStatisticalReport()
activate Survey
deactivate SERV
note right V #CCE2CB
    Visitor validates every answer,
    and calculates the statistics for report
end note
Survey -> V : create

activate V
deactivate Survey
V -> V : visitSingleChoice()
V -> V : visitMultipleChoice()
V -> V : statisticSingleChoice()
V -> V : statisticsMultipleChoice()
V - -> UI : statistics
deactivate V
UI - -> SM : Shows statistics
deactivate UI



deactivate SM



@enduml

@startuml
autonumber
actor "Sales Manager" as SM
participant "StatisticalReportUI" as UI <<presentation>>
participant "StatisticalReportController" as CTRL <<application>>
participant "SurveyService" as SERV <<application>>
participant "AnswerService" as ASERV <<application>>
participant "survey:Survey" as Survey <<domain>>
database "SurveyRepository" as SR <<repository>>
database "AnswerRepository" as AR <<repository>>
participant "EvalVisitorReport" as V <<visitor>>


activate SM
SM -> UI : Starts to see surveys available to make statistical report
activate UI

UI -> CTRL : showSurveysAnswered()
activate CTRL


CTRL -> SERV : showSurveysAnswered()

activate SERV
SERV -> SR : findSurveys()
activate SR
SR - -> SERV : List<Survey>
deactivate SR
SERV - -> CTRL : List<SurveyDTO>
deactivate SERV
CTRL - -> UI : List<SurveyDTO>
deactivate CTRL
UI - -> SM : List<SurveyDTO>
deactivate UI


SM -> UI : Chooses SurveyID
activate UI
UI -> CTRL : calculateUniverse(SurveyID)
activate CTRL
CTRL -> ASERV : calculateUniverse(SurveyID)
activate ASERV
note right AR #CCE2CB
    Each answer has a costumer associated, 
    so amount of answers equals 
    the equals amounts of customers (universe)
end note
ASERV -> AR : calculateUniverse(SurveyID)

activate AR
AR - -> ASERV : universe
deactivate AR

ASERV - -> CTRL : universe
deactivate ASERV
CTRL - -> UI : universe
deactivate CTRL
UI - -> SM : Shows universe

UI -> CTRL : calculatePercentage(SurveyID)
activate CTRL
CTRL -> ASERV : calculatePercentage(SurveyID)
activate ASERV
ASERV -> AR : calculatePercentage(SurveyID)
activate AR
AR - -> ASERV : answers
deactivate AR


ASERV - -> CTRL : percentage
deactivate ASERV
CTRL - -> UI : percentage
deactivate CTRL
UI - -> SM : Shows percentage


UI -> CTRL : calculateNumAnswers(SurveyID)
activate CTRL
CTRL -> ASERV : calculateNumAnswers(SurveyID)
activate ASERV
ASERV -> AR : calculateNumAnswers(SurveyID)
activate AR
AR - -> ASERV : numAnswers
deactivate AR

ASERV - -> CTRL : numAnswers
deactivate ASERV
CTRL - -> UI : numAnswers
deactivate CTRL
UI - -> SM : Shows numAnswers


UI -> CTRL : getStatisticalReport(SurveyID)
activate CTRL
CTRL -> SERV : getStatisticalReport(SurveyID)
deactivate CTRL
activate SERV

SERV -> Survey : getStatisticalReport()
activate Survey
deactivate SERV
note right V #CCE2CB
    Visitor validates every answer,
    and calculates the statistics for report
end note
Survey -> V : create

activate V
deactivate Survey
V -> V : visitSingleChoice()
V -> V : visitMultipleChoice()
V -> V : statisticSingleChoice()
V -> V : statisticsMultipleChoice()
V - -> UI : statistics
deactivate V
UI - -> SM : Shows statistics
deactivate UI



deactivate SM



@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 WEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>